### 더티플래그 패턴

(사실 더티플래그 패턴을 정말 디자인 패턴의 하나로 포함하지 않는 의견도 많지만, 꽤 유용한 방법 중 하나이고 고민해볼 만한 주제라고 생각해서 가져오게 되었습니다 😊)

더티플래그 패턴은 **중복적인 연산을 효율적으로 처리하기 위한** 디자인 패턴입니다. 이 패턴은 한 번에 연산하거나 **값을 호출하기 전까지 해당 연산을 수행하지 않는 방식**으로 작동합니다.

장점:

- 중복적인 연산을 크게 줄일 수 있습니다.

고려사항:

- 이전 값을 저장해야 합니다.
- 변경이 있는지 계속 체크해야 합니다.

Transform. Translate → 이동에 회전을 적용하는 연산을 한다음에 이동

Transform.Rotate → 지금 어떤 회전이 걸려있고 그거에 대해서 행렬연산

- 예시 : 트랜스폼 업데이트
    
    트랜스폼의 자식들은 부모의 이동에 의해 영향을 받음.
    
    ![[Pasted image 20240122212714.png]]
    
![[Pasted image 20240122212721.png]]
    
- 유사 예시 - LINQ Lazy Evaluation
    
    ```csharp
    static Func<int, bool> func; //int를 인자로 받아 bool을 반환하는 Func
    
    static void Main(string[] args)
    {
     	List<int> list = new List<int> { 1, 2, 3, 4, 5, 6, 7 };
      	func = (x) =>
                {
                 Console.WriteLine("Func Executed");
                 return x % 2 == 0; 
                };
    
    	Console.WriteLine("==Where==");
    	IEnumerable<int> whereList = list.Where(func).ToArray(); // ToArray넣으면 최종결과로 인식
    
    	Console.WriteLine("==Foreach==");
    	foreach(int i in whereList)
        {
        	Console.WriteLine(i);
        }
    }
    /////////////////////////
    .ToArray() // 결과화해버리면 그냥 끝임
    
    ==Where==
    ==Foreach==
    Func Executed
    Func Excuted
    2
    Func Excuted
    Func Excuted
    4
    
    ==Where==
    Func Excuted
    ~~ X7
    ==Foreach==
    2
    4
    6
    8
    
    ```
    

