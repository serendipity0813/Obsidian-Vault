### 최종 프로젝트 - 트러블 슈팅 [[TIL/TIL]]

첫 번째 트러블 : 단일 씬으로 게임 구현하기

다양한 미니게임을 만들 예정이기 때문에 각 게임이나 UI 별 빠르게 개발, 접근, 개선및 확인이 가능한 방법이 필요하였고 게임 진행시에도 속도감을 살리기 위해 화면 전환이나 로딩시간 없이 게임이 진행될 수 있는 방법을 고민하던 중 소은게임 문홍재님의 1인 개발로드맵 특강에서 아이디어를 얻어 단일 씬에서 게임이 동작되도록 개발을 진행하기로 하였습니다.

  

문제 해결을 위해 모든 씬과 미니게임들을 프리펩으로 만들고 씬 전환, 게임 전환시 오브젝트가 생성 및 파괴되도록 로직을 구성하였습니다.

또한 다양한 미니게임을 딕셔너리와 SO를 이용하여 빠르게 찾을 수 있도록 하였습니다. 

  

그 결과 데이터나 오브젝트를 다시 찾아야 하거나, 버튼 연결이 빠지는 오류가 발생하는 등이 줄어 작업속도가 증진되었고 자잘한 오류가 발생하여도 바로바로 프리펩으로 접근해 빠르게 수정 및 게선이 가능하였습니다.

이미지 예시로 설명드리면 특정 게임에서 간단한 오류가 있다면 해당 프리펩만 바로 꺼내와 인게임과 똑같이 진행이 가능하였고 오류를 바로바로 수정 후 저장하였습니다.

  

두 번째 트러블 :  다양한 시점의 카메라 구현

  

각 미니게임 마다 카메라 시점의 변화를 주고 싶었고 핸드폰 모델에 따라 오브젝트가 밖으로 나가거나 전면 카메라로 인해 클릭을 못하는 등의 문제를 방지하고 싶었습니다.

  

문제 해결을 위해 오브젝트 생성 위치를 기반으로 여러가지 카메라를 미리 설정해두고 관리하였으며 카메라 화면을 기준으로 전면 카메라 크기를 감안하여 투명벽이 자동으로 생성되는 코드를 따로 구현하였습니다.

그 결과 다양한 시점의 카메라를 자유롭게 사용하고 다양한 모델에서도 같은 환경에서 기능이 자연스게 동작되도록 구현이 완료되었습니다.

  

세 번째 트러블 :  미니게임별 공통으로 쓰이는 요소 관리

  

미니게임이 많다 보니 공통으로 쓰이는 요소들을 관리하고 중복된 코드를 줄이고 유사한 코드를 반복 구현하는 경우를 방지하는 등 개발에서의 최적화 방식을 고민하였습니다. 

  

공통으로 쓰이는 변수나 메소드, 프리펩을 부모클래스로 구현한 뒤 상속받도록 하고 매니저급 오브젝트에 있는 데이터를 미리 가져와 캐싱해두어 자유롭게 사용하도록 하였습니다. 또한 새로운 미니게임을 만들 때 기본적으로 사용되는 코드의 프로토타입을 만들어 기반으로 사용하였습니다.

  

그로 인해 게임을 만드는 시간이 많이 단축되어 다양한 게임을 빠르고 효과적으로 만들 수 있게 되었습니다. 

  

마지막 트러블 : 유저 입력판단과 그에 따른 상호작용 

  

모바일 상황에서 오브젝트를 움직이기 위해 유저의 터치제스쳐를 판단할 수 있는 기능이 필요하였고 입력에 따라 플레이어 오브젝트를 이동할 때 해당 모델이 에셋을 사용하였기 때문에 원하는 동작이나 모션이 없어 미니게임에서  사용이 어려웠습니다.

  

문제를 해결하기 위해 유저의 입력 형태와 방향을 관리하는 터치매니저를 따로 구현하였고 플레이어 오브젝트 모델의 경우 뼈대를 직접 수정한 후 외부 애니메이션이 적용되도록 수정하였습니다

  

그 결과 다양한 터치 기반 미니게임을 구현할 수 있었고 원하는 애니메이션을 자유롭게 적용할 수 있게 되었습니다.