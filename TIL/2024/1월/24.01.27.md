### Delegate 내용 정리 [TIL]

 ## Delegate

  

Delegate는 C# 프로그래밍 언어에서 **함수, 메서드 또는 이벤트를 참조하는 개체**입니다. Delegate는 함수 포인터와 유사하지만, 더 강력하고 유연하며 안전합니다. Delegate는 다음과 같은 다양한 기능을 제공합니다.

  

**1. 함수 포인터보다 안전:** Delegate는 함수 포인터보다 안전합니다. 함수 포인터는 함수의 메모리 주소를 직접 참조하기 때문에 함수가 메모리에서 삭제되면 함수 포인터는 유효하지 않게 됩니다. 반면에 Delegate는 함수를 참조하는 개체이기 때문에 함수가 메모리에서 삭제되더라도 Delegate는 유효할 수 있습니다.

  

**2. 다중 캐스트:** Delegate는 여러 함수를 참조할 수 있습니다. 이를 다중 캐스트라고 합니다. 다중 캐스트를 사용하면 여러 함수를 하나의 Delegate로 그룹화하여 관리할 수 있습니다.

  

**3. 이벤트 처리:** Delegate는 이벤트 처리에 사용됩니다. 이벤트는 객체에서 발생하는 특정 상황을 나타냅니다. Delegate는 이벤트를 처리하는 메서드를 참조합니다. 이벤트가 발생하면 Delegate는 참조하는 메서드를 호출합니다.

  

**4. 콜백 함수:** Delegate는 콜백 함수를 구현하는 데 사용됩니다. 콜백 함수는 다른 함수에서 호출되는 함수입니다. Delegate는 콜백 함수를 참조하여 다른 함수에 전달할 수 있습니다.

  

## Delegate의 종류

  

Delegate는 다음과 같은 종류가 있습니다.

  

**1. 단일 캐스트 Delegate:** 단일 캐스트 Delegate는 하나의 함수만 참조할 수 있습니다.

  

**2. 다중 캐스트 Delegate:** 다중 캐스트 Delegate는 여러 함수를 참조할 수 있습니다.

  

**3. 공변 Delegate:** 공변 Delegate는 반환 값이 동일하거나 더 파생된 형식인 함수를 참조할 수 있습니다.

  

**4. 반공변 Delegate:** 반공변 Delegate는 매개 변수 형식이 동일하거나 더 기본적인 형식인 함수를 참조할 수 있습니다.

  

## Delegate의 사용 방법

  

Delegate는 다음과 같은 방법으로 사용할 수 있습니다.

  

**1. Delegate 선언:** Delegate를 선언하려면 다음과 같이 `delegate` 키워드를 사용합니다.

  

C#

  

```

delegate void MyDelegate(int a, string b);

```

  

  

**2. Delegate 인스턴스 생성:** Delegate 인스턴스를 생성하려면 다음과 같이 new 키워드를 사용합니다.

  

C#

  

```

MyDelegate myDelegate = new MyDelegate(MyFunction);

  

private void MyFunction(int a, string b)

{

    // ...

}

```

  

  

**3. Delegate 호출:** Delegate를 호출하려면 다음과 같이 Delegate 인스턴스에 괄호를 사용합니다.

  

C#

  

```

myDelegate(10, "Hello");

```

  

  

**4. Delegate 다중 캐스트:** Delegate 다중 캐스트를 사용하려면 다음과 같이 += 연산자를 사용합니다.

  

C#

  

```

myDelegate += AnotherFunction;

  

private void AnotherFunction(int a, string b)

{

    // ...

}

```

  

  

**5. Delegate 이벤트 처리:** Delegate를 사용하여 이벤트를 처리하려면 다음과 같이 += 연산자를 사용합니다.

  

C#

  

```

button.Click += MyEventHandler;

  

private void MyEventHandler(object sender, EventArgs e)

{

    // ...

}

```

  

  

## Delegate 예제

  

다음은 Delegate 예제입니다.

  

C#

  

```csharp

using System;

  

delegate void MyDelegate(int a, string b);

  

class Program

{

    static void Main(string[] args)

    {

        MyDelegate myDelegate = new MyDelegate(MyFunction);

  

        myDelegate(10, "Hello");

  

        myDelegate += AnotherFunction;

  

        myDelegate(20, "World");

    }

  

    private static void MyFunction(int a, string b)

    {

        Console.WriteLine($"{a} {b}");

    }

  

    private static void AnotherFunction(int a, string b)

    {

        Console.WriteLine($"{b} {a}");

    }

}

```