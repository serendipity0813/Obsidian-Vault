### 탕후루 만들기 - 팀 프로젝트 구현사항 정리 (2024.01.08 [TIL])

### 플레이어 이동 및 상호작용 관련 기능 구현 [유준영]

---

  

##### 1. 캐릭터 이동기능 구현

  

- InputSystem을 이용하여 wasd키를 입력받고 방향에 따라 캐릭터가 이동하도록 구현

-> 플레이어 이동속도는 고정

- 키보드 입력에 따라 (움직이는 방향) 플레이어 스프라이트가 상,하,좌,우로 향하도록 변경

- 타이쿤이라는 게임 특성상 점프 기능은 불필요하다고 느껴 팀원과 소통 후 구현하지 않음

- TAB, F, R, Q 등의 키 입력을 통해 ui창 온오프 되도록 구현

- 콜라이더 벽으로 플레이어가 외부로 빠져나가지 못하도록 함

  

#### 2. 플레이어의 오브젝트 상호작용 기능 구현

  

- Tab 키 입력으로 인벤토리 UI On/Off 하도록 함

- 플레이어 스프라이트가 바라보는 방향에 따라 Ray가 향하는 방향이 변경되도록 구현

- 특정 LayerMask를 가진 오브젝트만 Raycast가 적용되도록 구현

- 상호작용 가능한 오브젝트가 Ray의 최대거리 이내로 들어와 인식되면 해당 오브젝트 위치에 PromptText가 출력되도록 구현하였고 떨어지면 Text가 사라지도록 함

- Text출력 후 Space키 입력시 오브젝트에 붙어있는 Tag에 따라 기능수행하도록 구현

-> 추가로 Space키 입력시 오브젝트 위치에 이펙트가 생성되고 효과음 들리도록 

  

#### 3. 상호작용으로 인한 플레이어 Data 변경 로직 구현 

  

- 플레이어를 싱글톤화 하여 관련 Data와 Method를 쉽게 접근하도록 

- 플레이어가 소지할 수 있는 재료와 아이템 종류를 Enum과 Public 변수로 선언

- 상호작용키 입력시 전달받는 매개변수를 통해 플레이어가 재료, 아이템을 획득하거나 소비하는 과정 로직을 구현함 

- Ray로 충돌한 오브젝트의 이름에 따라서 소비하는 재료, 생산하는 아이템 구분되도록 구현

- 재료 획득의 경우 농장을 보여주는 오브젝트와 상호작용 하면 UI화면이 켜지도록 함

-> UI화면에서 원하는 재료를 클릭하면 해당 재료를 인벤토리에 추가 

  

#### 4. 탕후루 만들기 미니게임 구현

  

- 게임시작 후 조리대 상호작용 후 첫 번째 탕후루 제작 버튼 누르면 미니게임 시작

- 막대기를 정렬하고 과일을 12개 끼우면 다음 스테이지 시작 가능

- PUSH 버튼을 누르면 냄비에 탕후루가 들어가고 알맞은 타이밍에 PULL버튼을 누르면 클리어

- 탕후루 종류마다 미니게임을 구현하거나 제작시 마다 미니게임 진행하려고 하였으나 시간상 첫 1회 제작에만 미니게임 진행하도록 구현 / 이미지 변경은 진행하지 못함

  

#### 5. 퀘스트 기능 구현

  

- 플레이어 특정 레벨 달성시에 퀘스트 언락되도록 구현

- 스크립트 내용에 맞춰 특정 조건 달성시 퀘스트 자동 클리어

- 퀘스트 클리어시 플레이어가 돈 획득

- 퀘스트 창 관련 ui 구현 + 퀘스트 내용 구현

  

#### 6. 상점기능 구현

  

- 확률강화를 통해 플레이어의 수익률이 일정 수치 증가할 수 있도록 하는 기능 구현

- 확률뽑기를 통해 플레이어의 재료수급 갯수, 탕후루 제작 갯수에 영향을 주는 기능 구현

- 직원 채용을 통해 재료수급, 탕후루제작, 탕후루 진열 등등의 기능 자동화하려고 하였으니 구현x

- 상점창 ui 구현 + 상점 내용 구성

  

#### 7. UI 구현사항

  

- 게임 플레이에 필요한 기본적인 UI 요소들 임시로 구성

-> 옵션버튼, 사운드토글버튼, 플레이어 재화 UI, Quest 버튼, 플레이어 LV UI + 

-> 옵션 내부의 소리조절 슬라이더, 게임재생 및 홈키 버튼 등

-  배경음악 및 효과음, 이펙트 등의 요소 사용기능 구현 (EffectManager)

- 플레이어 돈, 레벨 등등의 정보 UI 업데이트 기능 구현

- 퀘스트 현재진행 상황, 현재 보너스 수치 등등 확인 가능하도록 구현

  

#### 8. 협업사항

- 농장에서의 재료 생산물을 플레이어에게 넘겨주는 과정 구현

- 손님이 재료 선택 후 플레이어에게 금액을 지불해주는 로직 구현

- 각자 씬에서 작업한 내용을 메인 씬에서 합치는 작업 진행

- 손님 기능 관련한 오류사항 일부 수정