### 사전캠프 9일차 [[TIL]]

[유니티 2주차 강의 진행완료 / 3주차 강의 초반부 진행]

  

  

[![](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjcXPComyDT4dWMZCrcFbcSvNLVMdMa11v6cJHJBH6r67j-np9LZpLdAanKCtyTzB3b0L51LiQylAqGTbf-U9coA6pfcjdh8WdI8ApoF3kfT8SzADEDnJs3yZNNV090N828rsmXf-uKSn4oQA-3kYiT-EYempE3s0jczHmtcpl7nTQFweU543FeTi7eVQc/s320/MyShield.png)](https://www.blogger.com/blog/post/edit/3583706664799492072/4441738190101244037#)

  

![](https://img1.blogblog.com/img/video_object.png)

  

  

  
#일정

-> 8일차 개인 일정으로 교육 참석 x

-> 9일차 오전 병원일정 후 일찍 참석하여 학습진행 시작(약 12시)

-> 7일차 저녁에 2주차 강의 2/5 정도 진행하여 저녁시간 전까지 2주차 마무리

-> 식사시간 후 3주차 강의 초반 ~ 중반 정도까지 진행 후 마무리

  

# 마우스로 풍선을 지키는 게임 구현

-> 풍선 및 마우스 만들기

-> 네모 만들기 - 나타나기, 내려오기

-> 타이머 만들기

-> 게임 끝내기 - 판넬 만들기, 나타내기

-> 최고점수 나타내기

-> 풍선 애니메이션 적용하기

-> 숙제 - 떨어진 네모 삭제하기

  

#구현시 어려웠던 부분

-> 게임종료 함수를 만드는 과정에서 balloon을 ballon 이라고 오타를 작성하여 

어떤 부분에서 오류가 생겼는지 찾기 힘들었음 - 다수의 오류는 오타 기반!

-> 강의영상 확인 전 진행 내용을 보고 스스로 먼저 해보다가 몇가지를 놓침

-> 2주차 숙제를 코드로 구현하였지만 원하는대로 기능이 작동하지 않아 한참을 

고민하다가 결국 해결 - square.cs 가 아닌 gamemanager.cs 에 작성하고 있었음

  

#구현하면서 발전한 부분 / 스스로 피드백

-> 지난시간 헷갈렸던 게임매니저 활용과 프리팹 활용부분은 오류없이 구현 완료

-> 강의 자료에서 로직만 보고 스스로 코드 작성하였음

-> 구현하는 과정에서 강의내용과 조금 다르더라도 환경에 맞게 (시간, 위치 등) 유연하게 스스로 조절하기 시작하였음 - 유니티의 기능이 조금씩 익숙해지고 있음

  

#구현 코드내용 기록

-> 3주차 강의 내용 및 코드는 다음 날 3주차 강의 진행 후 업로드 예정

  

-> gamemanager.cs 코드 구현내용

using System.Collections;

using System.Collections.Generic;

using UnityEngine;

using UnityEngine.SceneManagement;

using UnityEngine.UI;

  

public class GameManager : MonoBehaviour

{

    public GameObject square;

    public Text timeTxt;

    float alive = 0f;

    public GameObject endPanel;

    public static GameManager I;

    public Text thisScoreTxt;

    public Text maxScoreTxt;

    public Animator anim;

    bool isRunning = true;

  

    void Awake()

    {

        I = this;

    }

  

    // Start is called before the first frame update

    void Start()

    {

        Time.timeScale = 1.0f;

        InvokeRepeating("MakeSquare", 0.0f, 0.5f);

    }

  

    // Update is called once per frame

    void Update()

    {

        if (isRunning)

        {

            alive += Time.deltaTime;

            timeTxt.text = alive.ToString("N2");

        }

    }

  

    void MakeSquare()

    {

        Instantiate(square);

    }

    public void gameOver()

    {

        isRunning = false;

        anim.SetBool("isDie", true);

        Invoke("timeStop", 0.7f);

        maxScoreTxt.text = PlayerPrefs.GetFloat("bestScore").ToString("N2");

        thisScoreTxt.text = alive.ToString("N2");

        endPanel.SetActive(true);

  

        if (PlayerPrefs.HasKey("bestscore") == false)

        { 

            PlayerPrefs.SetFloat("bestscore", alive);

        }

        else

            { 

                if(PlayerPrefs.GetFloat("bestscore") < alive)

                 {

                     PlayerPrefs.SetFloat("bestscore", alive);

                 }

            }

  

        float maxScore = PlayerPrefs.GetFloat("bestscore");

        maxScoreTxt.text = maxScore.ToString("N2");

  

    }

    public void retry()

    {

        SceneManager.LoadScene("MainScene");

    }

    void timeStop()

    {

        Time.timeScale = 0.0f;

    }

}

  

-> square.cs 코드 내용

using System.Collections;

using System.Collections.Generic;

using UnityEngine;

  

public class square : MonoBehaviour

{

    // Start is called before the first frame update

    void Start()

    {

        float x = Random.Range(-3.0f, 3.0f);

        float y = Random.Range(3.0f, 5.0f);

  

        transform.position = new Vector3(x, y, 0);

  

        float size = Random.Range(0.5f, 1.5f);

        transform.localScale = new Vector3(size, size, 0);

    }

  

    // Update is called once per frame

    void Update()

    {

        if (transform.position.y < -5.0f)

        {

            Destroy(gameObject);

        }

    }

    void OnCollisionEnter2D(Collision2D coll)

    {

        if (coll.gameObject.tag == "balloon")

        {

            GameManager.I.gameOver();

        }

    }

}

  

-> shield.cs 코드 내용

using System.Collections;

using System.Collections.Generic;

using UnityEngine;

  

public class NewBehaviourScript : MonoBehaviour

{

    // Start is called before the first frame update

    void Start()

    {

    }

  

    // Update is called once per frame

    void Update()

    {

        //마우스 위치 따와서 x, y 좌표 변경하기

        Vector3 mousePos = Camera.main.ScreenToWorldPoint(Input.mousePosition);

        transform.position = new Vector3(mousePos.x, mousePos.y, 0);

    }

}