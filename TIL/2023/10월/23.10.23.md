### 사전캠프 7일차 [TIL]

[유니티 강의 1주차 진행 완료]

  

  

  

[![](https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRQwElffkEBNeQxbweECR7sgU1QhZXZpNZlAPVub56VuIj-SJ_A4VnmAM_HnZBbQwoLeDPvxr3Ou4EprAaKeQ-CxjhV8H5eMtVEicdbIJ8w4xIjV7f60LWCe5UzrawdADDyhEODayv89ZQ9bkh17HpFRzBrqRXgS1CISUox2bQ33VdAOYdLxf8w3DqJnv5/s320/RtanRum.png)](https://www.blogger.com/blog/post/edit/3583706664799492072/6150900391176799151#)

  

  

  

![](https://img1.blogblog.com/img/video_object.png)

  

  
  

  

  

#빗방울 계속 내리도록 하기 구현 

-> gamemanager를 만든 후 프리팹 구현하여 물방울 반복생성 완료

-> 코드 작성하여 구현하던 도중 rain 스프라이트를 프리팹으로 옮기는 중 오류가 생겨 

물방울이 생성되지 않음 

-> 대, 소문자 구분이 제대로 되지 않아 게임매니저 작동하지 않는 부분 찾아내고 수정하는 과정에서 시간이 오래 걸렸지만 그래도 스스로 해결 완료

  

#점수 올라가도록 하기 구현

->게임매니저 싱글톤화 진행

-> 태크 달아주거나 콜라이드 익숙해지고 있음

-> test 만들어 주는 과정에서 처음에 조금 헷갈렸지만 잘 진행함

  

#게임 끝내기 구현

-> retry 판낼 구현 완료

-> 생각보다 직관적으로 구현이 가능하고 대부분 유니티 프로그램 내부에 함수가 있음

-> 향후 프로그램 코드 작성시 유니티 내부 함수를 많이 알고 있어야 한다는 점이 느껴짐

  

#1주차 강의 숙제 제출 완료

-> 물방울 구현하면서 바로 붉은색 물방울도 같이 랜덤하게 나오도록 미리 구현함

-> 빨간색과 파란색의 점수를 반대로 하여 빨간색 물만 먹고 파란색을 피하도록 하니

더 재미있는 것 같음

  

#게임매니저 코드 구현 내용

public class GameManager : MonoBehaviour

{

    public GameObject rain;

    public GameObject panel;

    public static GameManager I;

    int totalScore = 0;

    public Text scoreText;

    public Text timeText;

    float limit = 3f;

  

  

    void Awake() 

    {

        //싱글톤화 하기

        I = this;

    }

  

    // Start is called before the first frame update

    void Start() 

    {

        InitGame();

        //시간 단위로 빗물 떨어트리기

        InvokeRepeating("MakeRain", 0, 0.5f);

    }

  

    // Update is called once per frame

    void Update()

    {

        //시간이 흐르도록 하기

        limit -= Time.deltaTime;

        timeText.text = limit.ToString("N2");

        //멈추게 하기

        if (limit < 0)

        {

            Time.timeScale = 0.0f;

            panel.SetActive(true);

            limit = 0.0f;

        }

    }

    void MakeRain() 

    {

        //빗물 만들기

        Instantiate(rain);

    }

  

    public void AddScore(int score)

    {

        //점수 올리기

        totalScore += score;

        scoreText.text = totalScore.ToString();

    }

  

    public void retry()

    {

        // 게임 재시작 

        SceneManager.LoadScene("MainScene");

    }

    void InitGame()

    {

        //게임환경 초기화

        Time.timeScale = 1;

        totalScore = 0;

        limit = 30f;

  

    }

}

  

#판낼 기능 코드구현 내용

public class panel : MonoBehaviour

{

    // Start is called before the first frame update

    void Start()

    {

    }

  

    // Update is called once per frame

    void Update()

    {

    }

  

    public void retry()

    {

        GameManager.I.retry();

    }

}